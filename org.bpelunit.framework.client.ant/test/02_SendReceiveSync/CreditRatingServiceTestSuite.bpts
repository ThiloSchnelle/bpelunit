<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XMLSpy v2006 sp2 U (http://www.altova.com)-->
<testSuite xmlns="http://www.bpelunit.org/schema/testSuite" xmlns:wsa="http://schemas.xmlsoap.org/ws/2003/03/addressing" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.bpelunit.org/schema/testSuite C:\java\bpelunitws\org.bpelunit.framework\schema\TestSuite.xsd">
	<name>Credit Rating Service Send/Receive Synchronous BPELUnit Test</name>
	<deployment>
		<put type="testmode" name="CreditRatingService">
			<wsdl>CreditRatingService.wsdl</wsdl>
		</put>
	</deployment>
	<testCases>
		<testCase name="Test with a normal SSN" xmlns:crs="http://examples.bpelunit.org/CreditRatingService">
			<clientTrack>
			<activity>
				<sendReceive service="crs:CreditRatingService" port="CreditRatingServicePort" operation="process">
				<send>
					<data>
						<crs:ssn>123456</crs:ssn>
					</data>
					</send>
					<receive>
						<!-- Result doesn't really matter, as long as it's there... -->
						<condition>crs:rating</condition>
					</receive>
				</sendReceive>
				</activity>
			</clientTrack>
			<partnerTrack name="CreditRatingService">
			<activity>
				<receiveSend port="CreditRatingServicePort" operation="process" service="crs:CreditRatingService">
				<receive>
					<!-- Assure the SSN got transferred correctly... -->
					<condition>crs:ssn/text()='123456'</condition>
					</receive>
					<send>
						<data>
							<crs:rating>495</crs:rating>
						</data>
					</send>
				</receiveSend>
				</activity>
			</partnerTrack>
		</testCase>
		
			<testCase name="Test with a null-SSN" xmlns:crs="http://examples.bpelunit.org/CreditRatingService">
			<clientTrack>
			<activity>
				<sendReceive service="crs:CreditRatingService" port="CreditRatingServicePort" operation="process">
				<send>
					<data>
						<crs:ssn>0</crs:ssn>
					</data>
					</send>
					<receive fault="true">
						<condition>crs:error/text()='SSN may not be null.'</condition>
					</receive>
				</sendReceive>
				</activity>
			</clientTrack>
			<partnerTrack name="CreditRatingService">
			<activity>
				<receiveSend port="CreditRatingServicePort" operation="process" service="crs:CreditRatingService">
				<receive>
					<!-- Assure the SSN got transferred correctly... -->
					<condition>crs:ssn/text()='0'</condition>
					</receive>
					<send fault="true">
						<data>
							<crs:error>SSN may not be null.</crs:error>
						</data>
					</send>
				</receiveSend>
				</activity>
			</partnerTrack>
		</testCase>
		
	</testCases>
</testSuite>
