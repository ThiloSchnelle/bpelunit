
Die Business Process Execution Language for Web Services (BPEL4WS) ist eine XML-
basierte Sprache zur Beschreibung der Aggregation vonWeb Services. Sie entstand durch die
Vereinigung der Sprachen WSFL von IBM [Ley01] und XLANG von Microsoft [Tha01]. Ge-
schuldet ihrer Entstehungsgeschichte besitzt die Sprache BPEL4WS eine beachtliche Kom-
plexitÄat teilweise mit redundanten sowie mehrdeutig beschriebenen Konzepten. Au¼erdem
wurden die Wechselwirkungen der verschiedenen Konzepte im Vorhinein nicht ausreichend
untersucht. Aus diesem Grund ist die De¯nition einer formalen Semantik fÄur BPEL4WS ei-
nes der grundlegenden Ziele in diesem Forschungsprojekt. Um die praktische Relevanz sicher
zu stellen, formulieren wir eine Reihe von Anforderungen an die entstehenden Semantik:


In diesem Abschnitt stellen wir sehr grob die grundlegenden Konzepte der Sprache
BPEL4WS vor. In der weiteren Arbeit werden die einzelnen Konzepte anhand von Bei-
spielen genauer erlÄautert. DarÄuber hinaus bieten die Spezi¯kation der Sprache [ACD+02]
und Tutorials auf der Web-Seite von IBM [Tid00] tiefer gehende Informationen.
Ein Modell der Sprache BPEL4WS beschreibt die interne Struktur eines Web Service und
dessen Einbindung in die Umwelt, d. h. ein Modell besteht aus einer Menge von AktivitÄaten
die zu einem Prozess zusammengefasst werden und einer Menge von NachrichtenkanÄalen
(Operationen von Porttypen), die Partnern angeboten oder von diesen verlangt werden.
Wir beginnen zuerst mit der internen Struktur:
AktivitÄaten
Im Zentrum der Modellierung von GeschÄaftsprozessen stehen die AktivitÄaten und ihre kau-
salen ZusammenhÄange. In BPEL4WS gibt es zwei Sorten von AktivitÄaten: Basic Activities
und Structured Activities.
Die einfachen AktivitÄaten reprÄasentieren atomare Einheiten und lassen sich erneut in
zwei Gruppen teilen: FÄur die Kommunikation mit einem anderen Web Service sind die
AktivitÄaten invoke, receive und reply zustÄandig. Mit invoke kann ein anderer Web Service
aufgerufen werden, d. h. es wird eine Nachricht an diesen gesendet und gleich oder spÄater
eine Antwort erwartet. Mit receive wird ein Aufruf (eine Nachricht) von einem anderen Web
Service entgegen genommen und mit reply dieser beantwortet.
Die zweite Gruppe der einfachen AktivitÄaten reprÄasentieren interne Schritte: assign ist
eine Wertzuweisung, wait ist ein Timer und empty ist eine leere AktivitÄat. Teilweise steuern
sie auch den weiteren Prozessverlauf: terminate bricht den Prozess ab, throw wirft einen
Fehler und compensate veranlasst die RÄucksetzung eines Teils des Prozesses.
Neben den einfachen AktivitÄaten gibt es in BPEL4WS auch fÄunf Klassen strukturierter
AktivitÄaten. Mit diesen AktivitÄaten wird der Kontroll°uss abgebildet: Die einfachste ist se-
quence, diese AktivitÄat de¯niert die sequentielle Ordnung einer Menge anderer AktivitÄaten.
Die alternative Auswahl zwischen AktivitÄaten ist mit Hilfe von pick und switch mÄoglich, bei
pick entscheidet eine Nachricht von au¼en, bei switch wird durch die Auswertung von Daten
eine Entscheidung getro®en. Mit der AktivitÄat while ist es mÄoglich, zyklisches Verhalten
zu de¯nieren. Letztlich dient die AktivitÄat °ow dazu, eine unabhÄangige Menge von Akti-
vitÄaten zu spezi¯zieren. Innerhalb von °ow kÄonnen die AktivitÄaten durch zusÄatzliche links
untereinander synchronisiert werden. Jede der strukturierten AktivitÄaten enthÄalt ihrerseits
mindestens eine AktivitÄat. Auf diese Weise kÄonnen durch Schachtelung beliebig komplexe
Kontroll°uss-Beziehungen gebildet werden.
Ein Sonderrolle spielt die AktivitÄat scope.
ÄU
b
e
r
w
a
c
h
t
e
A
k
t
i
v
i
t
Äa
t
e
n
In BPEL4WS ist es mÄoglich, eine einzelne AktivitÄat unter besondere Beobachtung zu stel-
len, d. h. auftretende Fehler abzufangen, auf externe Ereignisse zu reagieren und ggf. die
AktivitÄat nach erfolgreicher AusfÄuhrung zu kompensieren, wenn es die Äau¼eren UmstÄan-
de verlangen. Zu diesem Zweck gibt es das Konzept des scopes als Aggregation aus event
handler, fault handler, compensation handler und einer Äuberwachten AktivitÄat. Auf der
einen Seite kann die Äuberwachte AktivitÄat wiederum strukturiert sein, so dass der scope
eine Menge von AktivitÄaten Äuberwachen kann. Auf anderen Seite kann der scope selbst als
eine AktivitÄat aufgefasst werden und damit in einer strukturierten AktivitÄat vorkommen.
Prozesse
AktivitÄaten kÄonnen ineinander geschachtelt sein und bilden somit eine hierarchische Struk-
tur { einen AktivitÄaten-Baum. DieWurzel dieses Baumes ist der Prozess: Ein Prozess besitzt
genau eine AktivitÄat. Neben dieser AktivitÄat kann ein Prozess event handler, fault handler
und compensation handler besitzen, d. h. ein Prozess ist auch gleichzeitig ein scope.
In BPEL4WS gehÄort zu einem Web Service genau ein Prozess. Es ist mÄoglich, diesen Pro-
zess prÄazise und vollstÄandig zu modellieren. Auf diese Weise gelangt man zu einem direkt
ausfÄuhrbaren Prozessmodell (= Executable Process). DarÄuber hinaus gestattet BPEL4WS
eine abstrakte Spezi¯kation des Verhaltens (= Business Protocol). Die abstrakte Spezi-
¯kation ist ein wesentlicher Teil der verÄo®entlichten Beschreibung des Web Service. Ein
potentieller Anwender entscheidet aufgrund dieser Spezi¯kation, ob der vorliegende Web
Service mit seiner Komponente kompatibel ist. Im Rahmen dieser Arbeit werden wir die
KompatibilitÄat zweier Web Services de¯nieren (siehe Abschnitt 3.1.4).
Die De¯nition der Kommunikation innerhalb des Prozesses stÄutzt sich auf die De¯nition
der Schnittstelle des Web Service mit WSDL ab.
Kommunikation
Ein Web Service ist ein o®enes System, dass mit anderen Komponenten (o. B. d. A. eben-
falls Web Services) Äuber Nachrichtenaustausch kommuniziert. Jede Nachricht ist ein XML-
Dokument, wobei die Typ der Dokumente bereits im WSDL-Modell des Web Service de¯-
niert werden. Als konsequente WeiterfÄuhrung verwendet BPEL4WS fÄur interne Datenstruk-
turen (variables) ebenfalls XML-Dokumente.
Die Schnittstelle fÄur die Kommunikation wird in WSDL de¯niert: Eine Nachrichten ist
ein XML-Dokument, das Senden und empfangen einer Nachricht (mit oder ohne Feedback)hei¼t Operation. Eine Menge von Operationen wird zu einem Porttype zusammengefasst.
Jeder Web Service bietet eine Menge von Porttypen an.
Die Kommunikation Äuber einen Porttypen kann man von zwei Seiten aus betrachten:
Auf der einen Seite gibt es den Web Service, der diesen Porttypen anbietet und auf der
anderen Seite gibt es einen Web Service, der diesen Porttypen von au¼en benutzt. Deshalb
wird in BPEL4WS die Verbindung zwischen den Operationen eines Porttypen und den
AktivitÄaten im Prozess durch PartnerLinks abgebildet: Die AktivitÄat receive und reply
implementieren eine Operation an der Schnittstelle dieses Web Service und stellen damit
einem anderem Web Service FunktionalitÄat zur VerfÄugung, die AktivitÄat invoke spezi¯ziert
eine Operation an der Schnittstelle eines anderen Web Service und benutzt damit dessen
FunktionalitÄat. Da ein anderer Web Service (d. h. ein Partner) in einem BPEL4WS-Modell
sowohl FunktionalitÄat anbieten als auch benutzen kann, wird ein Partner durch eine Menge
von PartnerLinks spezi¯ziert.


BPEL4WS (kurz BPEL) unterscheidet zwischen ausführbaren und abstrakten Prozessen, wobei
die Unterscheidung für diese Arbeit irrelevant ist. Ein BPEL4WS Prozess selbst kann als
ein Ablaufdiagramm angesehen werden, wobei jeder Knoten eine Aktivität darstellt. Hierbei
wird zwischen primitiven und strukturierten Aktivitäten unterschieden. Die primitiven Aktivitäten
ermöglichen es: Operationen auf anderen Web Services aufzurufen (invoke), auf
Nachrichten von externen Partnern zu warten (receive), Antworten auf eine Anfrage zu verschicken
(reply), eine bestimmte Zeit zu warten (wait), den Variablen Werte zuzuweisen
(assign), Fehler zu generieren (throw), den gesamten Service explizit zu beenden (terminate)
oder auch nichts zu tun (empty). Die strukturierten Aktivitäten ermöglichen es die
primitiven zu einer komplexeren Einheit zu kombinieren. Es ist möglich, folgendes mit strukturierten
Aktivitäten zu realisieren: Eine geordnete Sequenz der Aktivitäten zu definieren
(sequence), Verzweigungen innerhalb eines Prozesses zu bilden (switch), Schleifen zu
definieren (while), Entscheidungen nach Ablauf bestimmter Zeit oder anhand externer
Trigger zu treffen (pick) und Aktivitäten parallel auszuführen (flow). Außerdem können
mit Hilfe des control links Konstrukts Ausführabhängigkeiten zwischen parallelen Aktivitäten
definiert werden.
BPEL basiert auf mehreren XML-Spezifikationen: WSDL 1.1 [W3C (2001)], XML Schema
1.0 [W3C (2000)], XPath 1.0 [W3C (1999)] und WS-Addressing [Microsoft et al. (2003b)].
WSDL und XML Schema Typdefinitionen bieten das Datenmodell, das bei BPEL4WS Pro zessen genutzt wird, an. XPath liefert die Unterstützung für Datenmanipulation. Alle externen
Ressourcen und Partner werden als WSDL Services repräsentiert. BPEL ist leicht anpassbar,
so dass neue Versionen von den oben genannten Standards leicht übernommen werden
können. Mehr über die Integration der XML-Standards in BPEL4WS ist in der Spezifikation
[Microsoft et al. (2003a)] zu finden.
Wie oben bereits erwähnt ist der Hauptzweck von BPEL4WS Prozessen Web Services zu
kombinieren und zu koordinieren, wichtig ist aber auch dass ein BPEL4WS Prozess selbst als
ein Web Service nach außen wirken kann.
Die Arbeit bezieht sich auf die Version 1.0 von BPEL4WS, die im August 2002 erschienen
ist. Die Abgrenzung zur aktuellen Version 1.1 ist im Kapitel 5 zu finden

zessen genutzt wird, an. XPath liefert die Unterstützung für Datenmanipulation. Alle externen
Ressourcen und Partner werden als WSDL Services repräsentiert. BPEL ist leicht anpassbar,
so dass neue Versionen von den oben genannten Standards leicht übernommen werden
können. Mehr über die Integration der XML-Standards in BPEL4WS ist in der Spezifikation
[Microsoft et al. (2003a)] zu finden.
Wie oben bereits erwähnt ist der Hauptzweck von BPEL4WS Prozessen Web Services zu
kombinieren und zu koordinieren, wichtig ist aber auch dass ein BPEL4WS Prozess selbst als
ein Web Service nach außen wirken kann.
Die Arbeit bezieht sich auf die Version 1.0 von BPEL4WS, die im August 2002 erschienen
ist. Die Abgrenzung zur aktuellen Version 1.1 ist im Kapitel 5 zu finden
zessen genutzt wird, an. XPath liefert die Unterstützung für Datenmanipulation. Alle externen
Ressourcen und Partner werden als WSDL Services repräsentiert. BPEL ist leicht anpassbar,
so dass neue Versionen von den oben genannten Standards leicht übernommen werden
können. Mehr über die Integration der XML-Standards in BPEL4WS ist in der Spezifikation
[Microsoft et al. (2003a)] zu finden.
Wie oben bereits erwähnt ist der Hauptzweck von BPEL4WS Prozessen Web Services zu
kombinieren und zu koordinieren, wichtig ist aber auch dass ein BPEL4WS Prozess selbst als
ein Web Service nach außen wirken kann.
Die Arbeit bezieht sich auf die Version 1.0 von BPEL4WS, die im August 2002 erschienen
ist. Die Abgrenzung zur aktuellen Version 1.1 ist im Kapitel 5 zu finden zessen genutzt wird, an. XPath liefert die Unterstützung für Datenmanipulation. Alle externen
Ressourcen und Partner werden als WSDL Services repräsentiert. BPEL ist leicht anpassbar,
so dass neue Versionen von den oben genannten Standards leicht übernommen werden
können. Mehr über die Integration der XML-Standards in BPEL4WS ist in der Spezifikation
[Microsoft et al. (2003a)] zu finden.
Wie oben bereits erwähnt ist der Hauptzweck von BPEL4WS Prozessen Web Services zu
kombinieren und zu koordinieren, wichtig ist aber auch dass ein BPEL4WS Prozess selbst als
ein Web Service nach außen wirken kann.
Die Arbeit bezieht sich auf die Version 1.0 von BPEL4WS, die im August 2002 erschienen
ist. Die Abgrenzung zur aktuellen Version 1.1 ist im Kapitel 5 zu finden

BPEL ist eine XML-basierte Sprache für die Definition
und Ausführung von Geschäftsprozessen unter
Verwendung von Web Services
 BPEL integriert individuelle Web Services zu
Geschäftsprozessen.
 Jeder BPEL Prozess ist ein ausführbares und portables
Script
 BPEL ermöglicht die Realisierung service-orientierter
Architekturen durch Komposition, Orchestrierung und
Koordination von Web Services.
 BPEL ist plattform- und anbieterunabhängig
 ausgedrückt in XML
 verwendet und erweitert WSDL
 verwendet WSDL und XML Schema für Datenmodelle

Ein Geschäftsprozess und ein Web Service sind in gewissem Sinn das
gleiche. Wenn man einen Web Service aufruft, weiss man nicht, ob es
sich um einen atomaren Service handelt oder um einen komplexen,
aus mehreren Services bestehenden Prozess.

BPEL spezifiziert das Verhalten von Geschäftsprozessen
durch Web Services und als Web Service:
Jeder BPEL Prozess ist auch ein Web Service

Web Services können auf zwei Arten kombiniert werden:
Orchestration: Ein zentraler Prozess koordiniert die
Operationen der Web Services, die in den Prozess
eingebunden sind.
Choreography: Es gibt keinen zentralen Koordinator. Jeder in
die Choreography eingebunden Web Service "weiss", mit
wem er zu interagieren hat. Bei der Choreographie erfolgt
die Zusammenarbeit über den Austausch von Nachrichten
in einem öffentlichen Prozess.

BPEL unterstützt Orchestration und Choreography durch
Executable Processes: Spezifikation eines
Geschäftsprozesses, der durch eine Orchestration Engine
ausgeführt wird
Abstract Business Protocols: Spezifikation des
Nachrichtenaustauschs zwischen Partnern folgt dem
Choreographie Paradigma

Setzt auf XML und Web Services auf
Verbindung von 2 früheren Workflow-Sprachen:
WSFL: Web Services FlowLanguagevon IBM
Konzept: gerichtete Graphen, Aktivitäten mit Kontroll-und Datenflüssen verbunden
XLANG: Web Services forBusiness ProcessDesign von Microsoft
Konzept: Flussdiagramm mit einfachen Kontrollstrukturen wie Sequence, Switch, While, All (parallele Ausführung)
Erweiterung der WSDL-Service-Beschreibung

Business ProcessExecutionLanguage:
XML-basierte Prozessbeschreibungssprache, aktuell Version 2.0
Abbildung von Geschäftsprozessen auf Basis von Web Services
BPEL-Prozess wird durch Interaktion der WSDL-portTypesrealisiert
Aktivität = ein Prozessschritt innerhalb des Gesamtprozesses
WSDL-Datei beschreibt Sicht von außen
Beschreibung möglicher Rollen
Port mit aufrufbaren Operationen
BPEL-Datei beschreibt Ablauf des Geschäftsprozesses
Reihenfolge der Aktivitäten
Randbedingungen
Fehlerbehandlungen


WSDL-Messagesdefinieren
Verwendete Nachrichten
WSDL-PortTypesdefinieren
Verfügbare Schnittstellen zu Diensten
PartnerLinkTypesdefinieren
Rollen der PortTypes
PartnerLinksdefinieren
verknüpfen WSDL-portTypesmit BPEL-Prozess-Definitionen
Verwendete Variablen definieren
Eigentlichen Prozess definieren

Variablen müssen vor Verwendung deklariert werden
Mögliche Datentypen:
WSDL messagetype
XML Schema simple type
XML Schema element


Vorteil
Unterstützung vieler verschiedener Anbieter
Ermöglicht Prozessinteroperabilität
XML-basiert
Umfangreiche Kontrollfluss-Beschreibung, vielseitige Verschachtelung
Basiert auf vorhandenen WS-/XML-Standards, z.B. BPEL 1.1 auf WSDL 1.1, XML Schema 1.0, XPath1.0 und WS-Addressing
Synchrone und asynchrone Nachrichtenübermittlung
Callbacksund CorrelationSets für Komposition
Unterstützung für Transaktionen (atomar und lang-andauernd)
Ausnahmebehandlung, Kompensationen und Fehlerbehandlung

Prtener Link ist ein Kommunikationskanal 
Process-Element:
\begin{itemize}
	\item Partner link
	\item variables section
	\item activity
\end{itemize}
 