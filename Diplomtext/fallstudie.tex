Zur Überprüfung der praktischen Einsetzbarkeit der entwickelten Lösung wurde eine Fallstudie durchgeführt. Die Web Service-basierte Anwendung und die zugehörigen Tests, die dabei verwendet wurden, sind aus einem studentischen Projekt entstanden. An der Universität Hannover am Fachgebiet Software Engineering wurden im Wintersemester 2006/07 das Projekt "`Entwicklung einer Weservice-basierten Anwendung"' durchgeführt. 
Innerhalb eines Semesters haben 8 Studenten die Anwendung entworfen, entwickelt und getestet. Aufgrund der eingesetzten Technologien und Werkzeuge, wie BPEL (Kompositionsprache), BPELUnit-Framework (Testwerkzeug) und ActiveBPEL Engine (BPEL-Engine), hat sich das Projekt als Fallstudie für diese Arbeit angeboten. 

Entwickelt wurde ein System für Fach Gebiet Software Engineering , das den Anmeldeprozess für studentische Abschlussarbeiten unterstützt. Das System stellt dabei sicher, dass alle wesentliche Bestandteile der Betreuung, wie z.B. Veröffentlichung und Anmeldung der Arbeit, Planung von Zwischen- und Endvorträgen, Bewertung usw., eingehalten werden.
Für die Fallstudie sind vor allem die entstandenen BPEL-Prozesse und die Tests interessant. 

Zur besseren Einschätzung der Größe der entstandenen Anwendung und Einordnung dieser Fallstudie werden einige statistischen Daten der BPEL-Prozesses und (BPELUnit-) Tests vorgestellt.  

Der Gesamtprozess besteht aus 12 Teilprozessen. Insgesamt wurden 13 BPEL-Dateien erstellt: 12 für Teilprozesse und eine für den Hauptprozess, der alle Teilprozesse (als Web Services) zu einer Anwendung verknüpft. Die Abbildung \ref{fig:beispielprozess} stellt den Zusammenhang grafisch dar.

\begin{figure}[htbp]
	\centering
		\includegraphics[width=\textwidth]{bilder/Fallstudie.png}
		\caption{BPEL-Prozess. }
	\label{fig:beispielprozess}
\end{figure}



Die folgenden Statistiken beziehen sich auf alle 13 BPEL-Dateien und zeigen welche Aktivitäten bei der Prozessmodellierung verwendet wurden.

Es wurden insgesamt 508 strukturierten Aktivitäten und Scopes verwendet:
\begin{table}[h!]
\begin{tabular}{p{2cm}p{0.5cm}p{2cm}}
\textbf{Aktivität}&\ &\textbf{Anzahl}\\[0.1cm]
\hline \\
flow&\ &237\\
pick&\ &1\\
switch&\ &71\\
while&\ &19\\
secuence&\ &0\footnote{Sequentielle Abläufe wurden in Flow-Aktivitäten mit Synchronisationslinks realisiert.}\\
scope&\ &180\\
\end{tabular}
\end{table}

750 Basisaktivitäten:
\begin{table}[h!]
\begin{tabular}{p{4cm}p{4cm}p{4cm}p{4cm}}
\textbf{Aktivität}&\textbf{Anzahl}&\textbf{Aktivität}&\textbf{Anzahl}\\[0.1cm]
\hline \\
assign&387&compensate&0\\
empty&109&invoke&56\\
receive&21&reply&55\\
terminate&14&throw&98\\
wait&10&&\\
\end{tabular}
\end{table}

Zum Testen des Prozesses wurde BPELUnit Framework eingesetzt.
Es wurden zwei Testsuites erstellt:
\begin{itemize}
	\item \textbf{Suite1} testet den gesamten Prozesses. In diesem Fall werden außschließlich die Kommuniaktionspüartner (Web Services) der Teilprozesse durch Mock's ersetzt. Die zugehörige Aufrufe sind in der Abbildung \ref{fig:beispielprozess} durch kurze Pfeile angedeutet. Es werden also nicht einzelne Prozesse (einzelne BPEL-Datei) isoliert und getestet, sondern gleich mehrere zusammenhängende Prozesse. Das widerspricht der Gedanke des Unittests und hat Auswirkungen auf Messung der Testabdeckung (siehe weiter unten).
	\item \textbf{Suite2} testet die einzelnen Teilprozesse. In dieser suite werden die einzelnen Prozesse isoliert und getestet, so wie es bei Unittest auch gefordert wurd. Zusätzlich zu den Partnern, die bei suite1 durch Mock's ersetzt wurde, wurde auch der Hauptprozess, der in diesem Fall Client ist, durch ein Client-Mock ersetzt. 
\end{itemize}

Die Teilprozesse werden sowohl in suite1 als auch in suite2 getestet. Um die gesamte Testabdeckung zu ermitteln, die durch beide suites zusammen erreicht wird, müssen zum einen beide Testsuites ausgeführt werden und zum anderen dieselbe Marken verwendet werden, um die abgedecktem Prozesselemente in beiden Testläufen identifizieren zu können. Das BPELUnit Framework ist so konzipiert, dass nur eine suite pro Testlauf ausgeführt wird und die Testläufe voneinander unabhängig sind. Die Messung der Testabdeckung erfolgt ebenfalls suite-bezogen. Das heisst, die Abdeckungen, die bei Ausführung der einzelnen Suites erreicht werden, können ermittelt werden. allerdings kann die gemeinsame Abdeckung nicht bestimmt werden.

Sind alle Tests, die ein Prozess betreffen, in derselben Testsuite organisiert und alle Prozesse mit Hilfe der Mock's einzeln isoliert, so kann die Gesamtabdeckung gemessen werden. Es ist natürlich auch möglich, das BPELUnit Framework so zu erweitern, dass suites in einem Testlauf ausgeführt werden, damit die Gesamttestabdeckung ermittelt werden kann.  
Trotzdem kann die praktische Tauglichkeit des Verfahrens und der Implementierung an diesem Beispiel überprüft werden.

\textbf{Instrumentierung}. Bei der Instrumentierung werden die BPEL-Dateien (alle 13) für alle in dem Abschnitt \ref{} definierten Metriken mit Marken annotiert. Dabei  werden insgesamt  2857 Marken platziert.

Ergebnisse:

Die Testabdeckung lässt, wie bereits erläutert nur für die Datei  "`ThesisProzess.bpel"' berechnen. Die Ergebnisse sind in der folgenden Tabelle dargestellt.

Insgesamt wurden für beide suites folgende Metriken ermittelt:


\textbf{Zeitmessungen}.

